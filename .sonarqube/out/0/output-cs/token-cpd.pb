Ë'
LC:\Users\sneha.baskaran\Desktop\Web_Api_PMS\Controllers\ProductController.cs
	namespace 	
Web_Api
 
. 
Model 
{ 
[ 
ApiController 
] 
[ 
Route 	
(	 

$str
 
) 
] 
public

 	
class


 
ProductController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
ApiDbContext #
_context$ ,
;, -
public 
ProductController 
( 
ApiDbContext +
context, 3
)3 4
{ 
_context	 
= 
context 
; 
} 
[ 
HttpGet 
] 
public 
async 
Task 
< 
ActionResult $
<$ %
List% )
<) *
Product* 1
>1 2
>2 3
>3 4
GetProducts5 @
(@ A
)A B
{ 
return	 
Ok 
( 
await 
_context !
.! "
Products" *
.* +
ToListAsync+ 6
(6 7
)7 8
)8 9
;9 :
} 
[ 
HttpGet 
( 
$str 
) 
] 
public 
ActionResult 
< 
Product !
>! "
GetProducts# .
(. /
int/ 2
id3 5
)5 6
{ 
var	 
Prod 
= 
_context 
. 
Products %
.% &
Find& *
(* +
id+ -
)- .
;. /
if	 
( 
Prod 
== 
null 
) 
{	 

return   
NotFound   
(   
)   
;   
}!!	 

return""	 
Prod"" 
;"" 
}## 
[&& 
HttpPost&& 
]&& 
public(( 
async(( 
Task(( 
<(( 
ActionResult(( $
<(($ %
Product((% ,
>((, -
>((- .
Create((/ 5
(((5 6
Product((6 =
Products((> F
)((F G
{)) 
_context**	 
.** 
Add** 
(** 
Products** 
)** 
;**  
await,,	 
_context,, 
.,, 
SaveChangesAsync,, (
(,,( )
),,) *
;,,* +
return--	 
Ok-- 
(-- 
Products-- 
)-- 
;-- 
}.. 
[11 
HttpPut11 
(11 
$str11 
)11 
]11 
public22 
async22 
Task22 
<22 
ActionResult22 $
>22$ %
Update22& ,
(22, -
int22- 0
id221 3
,223 4
Product225 <
Prod22= A
)22A B
{33 
if55	 
(55 
id55 
!=55 
Prod55 
.55 
Id55 
)55 
return66 

BadRequest66 
(66 
)66 
;66  
_context77	 
.77 
Entry77 
(77 
Prod77 
)77 
.77 
State77 #
=77$ %
EntityState77& 1
.771 2
Modified772 :
;77: ;
await88	 
_context88 
.88 
SaveChangesAsync88 (
(88( )
)88) *
;88* +
return99	 
Ok99 
(99 
)99 
;99 
}:: 
[== 

HttpDelete== 
(== 
$str== 
)== 
]== 
public?? 
async?? 
Task?? 
<?? 
IActionResult?? %
>??% &
Delete??' -
(??- .
int??. 1
id??2 4
)??4 5
{@@ 
varAA	 
ProdAA 
=AA 
awaitAA 
_contextAA "
.AA" #
ProductsAA# +
.AA+ ,
	FindAsyncAA, 5
(AA5 6
idAA6 8
)AA8 9
;AA9 :
ifBB	 
(BB 
ProdBB 
==BB 
nullBB 
)BB 
{CC	 

returnDD 
NotFoundDD 
(DD 
$strDD 2
)DD2 3
;DD3 4
}EE	 

_contextGG	 
.GG 
ProductsGG 
.GG 
RemoveGG !
(GG! "
ProdGG" &
)GG& '
;GG' (
awaitHH	 
_contextHH 
.HH 
SaveChangesAsyncHH (
(HH( )
)HH) *
;HH* +
returnJJ	 
OkJJ 
(JJ 
)JJ 
;JJ 
}KK 
}NN 
}OO ë
@C:\Users\sneha.baskaran\Desktop\Web_Api_PMS\Data\ApiDbContext.cs
	namespace 	
Web_Api
 
. 
Data 
{ 
public 

class 
ApiDbContext 
: 
	DbContext (
{ 
public 
ApiDbContext 
( 
DbContextOptions *
options+ 2
)2 3
:5 6
base7 ;
(; <
options< C
)C D
{D E
}

 
public 
DbSet 
< 
Product 
> 
Products #
{$ %
get% (
;( )
set* -
;- .
}. /
} 
} ‡
NC:\Users\sneha.baskaran\Desktop\Web_Api_PMS\Migrations\20231213093346_Check.cs
	namespace 	
WebApi
 
. 

Migrations 
{ 
public		 

partial		 
class		 
Check		 
:		  
	Migration		! *
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
ProductName 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
name7 ;
:; <
$str= K
,K L
typeM Q
:Q R
$strS ]
,] ^
nullable_ g
:g h
falsei n
)n o
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Price 
= 
table !
.! "
Column" (
<( )
float) .
>. /
(/ 0
type0 4
:4 5
$str6 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
Quantity 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Id; =
)= >
;> ?
} 
) 
.   

Annotation   
(   
$str   +
,  + ,
$str  - 6
)  6 7
;  7 8
}!! 	
	protected$$ 
override$$ 
void$$ 
Down$$  $
($$$ %
MigrationBuilder$$% 5
migrationBuilder$$6 F
)$$F G
{%% 	
migrationBuilder&& 
.&& 
	DropTable&& &
(&&& '
name'' 
:'' 
$str''  
)''  !
;''! "
}(( 	
})) 
}** ý
=C:\Users\sneha.baskaran\Desktop\Web_Api_PMS\Model\Products.cs
	namespace 	
Web_Api
 
. 
Model 
; 
public 
class 
Product 
{ 
public 

int 
Id 
{ 
get 
; 
set 
; 
} 
[		 
Required		 
]		 
public

 

string

 
?

 
Product_Name

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
[ 
Required 
] 
public 

float 
Price 
{ 
get 
; 
set  
;  !
}! "
[ 
Required 
] 
public 

int 
Quantity 
{ 
get 
; 
set !
;! "
}" #
} …
6C:\Users\sneha.baskaran\Desktop\Web_Api_PMS\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder		 
.		 
Services		 
.		 
AddControllers		 
(		  
)		  !
;		! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddDbContext 
< 
ApiDbContext *
>* +
(+ ,
options, 3
=>4 6
options7 >
.> ?
UseMySql? G
(G H
builderH O
.O P
ConfigurationP ]
.] ^
GetConnectionString^ q
(q r
$str	r …
)
… †
,
† ‡
new
ˆ ‹ 
MySqlServerVersion
Œ ž
(
ž Ÿ
new
Ÿ ¢
Version
£ ª
(
ª «
)
« ¬
)
¬ ­
)
­ ®
)
® ¯
;
¯ °
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseHttpsRedirection 
( 
) 
; 
app 
. 
UseAuthorization 
( 
) 
; 
app 
. 
MapControllers 
( 
) 
; 
app 
. 
Run 
( 
) 	
;	 
